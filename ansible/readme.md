# create secrete for ssh key and configmap for playbook

oc create secret generic edpm-ssh-key  --type'kubernetes.io/ssh-auth' --from-file=ssh_private_key=/home/centos/.ssh/id_ed25519_oks --from-file=ssh_public_key=/home/centos/.ssh/id_ed25519_oks.pub

oc create configmap nova-playbooks --from-file=./playbooks/

# apply  the inventories.
# Note these would be generated by the Dataplane operator the sampels
# in this repo are a refernce and will need to be adjusted for your
# envionment.
oc apply -f ./inventory

# Note that when we integrate this work with go the AEE and config-samples will not be used
# They are just static data for manual testing and will be generated by the operator.
# Eventually we may replace this with molecule to allow testing the playbook without an openshift.
oc delete configmap  compute-configs ; oc create configmap  compute-configs --from-file=./config-samples/containers/ --from-file=./config-samples/libvirt/ --from-file=./config-samples/nova/
